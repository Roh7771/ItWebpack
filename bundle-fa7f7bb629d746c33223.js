!function(t){var n={};function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(o,r,function(n){return t[n]}.bind(null,r));return o},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=0)}([function(t,n,e){"use strict";e.r(n);e(1)},function(t,n){var e="https://posts-on-express.herokuapp.com",o=0,r=0,a=document.getElementById("root"),c=document.createElement("form");c.innerHTML='\n    <div class="form-group">\n        <label>–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –∏–ª–∏ Url</label>\n        <input class="form-control" data-type="text">\n    </div>\n    <div class="form-group">\n        <label>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –ø–æ—Å—Ç–∞</label>\n        <select class="form-control" data-type="select">\n            <option>–û–±—ã—á–Ω—ã–π</option>\n            <option>–ö–∞—Ä—Ç–∏–Ω–∫–∞</option>\n            <option>–í–∏–¥–µ–æ</option>\n            <option>–ê—É–¥–∏–æ</option>\n        </select>\n    </div>\n    <button class="btn btn-primary" data-type="button">–î–æ–±–∞–≤–∏—Ç—å</button>\n';var i=c.querySelector("[data-type=text]");i.value=localStorage.getItem("text"),i.addEventListener("input",(function(t){localStorage.setItem("text",t.currentTarget.value)}));var s=c.querySelector("[data-type=select]");s.value=localStorage.getItem("type")||"–û–±—ã—á–Ω—ã–π",s.addEventListener("input",(function(t){localStorage.setItem("type",t.currentTarget.value)})),c.querySelector("[data-type=button]").addEventListener("click",(function(t){t.preventDefault();var n={text:i.value,type:s.value};fetch("".concat(e,"/posts"),{body:JSON.stringify(n),headers:{"Content-Type":"application/json"},method:"POST"}).then((function(t){if(!t.ok)throw new Error(t.statusText);return t.json()})).then((function(t){i.value="",s.value="–û–±—ã—á–Ω—ã–π",localStorage.clear(),p(t)})).catch((function(t){console.log(t)}))})),a.appendChild(c);var l=document.createElement("button");l.className="btn btn-primary mx-auto mt-2 mb-2 d-none",l.innerHTML="–°–≤–µ–∂–∏–µ –ø–æ—Å—Ç—ã!",l.addEventListener("click",(function(){l.classList.remove("d-block"),l.classList.add("d-none"),fetch("".concat(e,"/posts/get-fresh-posts/").concat(o)).then((function(t){if(!t.ok)throw new Error(t.statusText);return t.json()})).then((function(t){p(t)})).catch((function(t){console.log(t)}))})),a.appendChild(l);var d=document.createElement("div");a.appendChild(d);var u=document.createElement("button");function f(){fetch("".concat(e,"/posts/get-old-posts/").concat(r)).then((function(t){if(!t.ok)throw new Error(t.statusText);return t.json()})).then((function(t){!function(t){if(t.sort((function(t,n){return n.id-t.id})),t.length<5){if(u.classList.add("d-none"),u.classList.remove("d-block"),0===t.length)return}else fetch("".concat(e,"/posts/old-posts-check/").concat(t[t.length-1].id)).then((function(t){if(!t.ok)throw new Error(t.statusText);return t.text()})).then((function(t){"true"===t&&(u.classList.add("d-none"),u.classList.remove("d-block"))})).catch((function(t){console.log(t)}));0===o&&(o=t[0].id);r=t[t.length-1].id;var n=!0,a=!1,c=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var l=i.value;d.appendChild(b(l))}}catch(t){a=!0,c=t}finally{try{n||null==s.return||s.return()}finally{if(a)throw c}}}(t)})).catch((function(t){console.log(t)}))}function p(t){if(Array.isArray(t)){if(0===t.length)return;t.sort((function(t,n){return n.id-t.id})),o=t[0].id;var n=!0,e=!1,r=void 0;try{for(var a,c=t[Symbol.iterator]();!(n=(a=c.next()).done);n=!0){var i=a.value;d.insertBefore(b(i),d.children[0])}}catch(t){e=!0,r=t}finally{try{n||null==c.return||c.return()}finally{if(e)throw r}}}else o=t.id,d.insertBefore(b(t),d.children[0])}function b(t){var n=document.createElement("div");n.className="card mt-3","–û–±—ã—á–Ω—ã–π"===t.type?n.innerHTML='\n            <div class="card">\n                <div class="card-body">\n                    <p class="card-text">'.concat(t.text,'</p>\n                    <button data-action="like" class="btn btn-primary mr-2">‚ù§ ').concat(t.likes,'</button>\n                    <button data-action="dislike" class="btn btn-primary mr-2">üëé</button>\n                    <button data-action="delete" class="btn btn-primary">–£–¥–∞–ª–∏—Ç—å –ø–æ—Å—Ç</button>\n                </div>\n            </div>\n       '):"–ö–∞—Ä—Ç–∏–Ω–∫–∞"===t.type?n.innerHTML='\n            <div class="card">\n                <img src="'.concat(t.text,'" class="card-img-top">\n                <div class="card-body">\n                    <button data-action="like" class="btn btn-primary mr-2">‚ù§ ').concat(t.likes,'</button>\n                    <button data-action="dislike" class="btn btn-primary mr-2">üëé</button>\n                    <button data-action="delete" class="btn btn-primary">–£–¥–∞–ª–∏—Ç—å –ø–æ—Å—Ç</button>\n                </div>\n            </div>\n       '):"–í–∏–¥–µ–æ"===t.type?n.innerHTML='\n            <div class="card">\n                <div class="card-img-top embed-responsive embed-responsive-16by9">\n                    <video src="'.concat(t.text,'" controls=""></video>\n                </div>\n                <div class="card-body">\n                    <button data-action="like" class="btn btn-primary mr-2">‚ù§ ').concat(t.likes,'</button>\n                    <button data-action="dislike" class="btn btn-primary mr-2">üëé</button>\n                    <button data-action="delete" class="btn btn-primary">–£–¥–∞–ª–∏—Ç—å –ø–æ—Å—Ç</button>\n                </div>\n            </div>\n       '):"–ê—É–¥–∏–æ"===t.type&&(n.innerHTML='\n            <div class="card">\n                <audio controls="" class="card-img-top" src="'.concat(t.text,'"></audio>\n                <div class="card-body">\n                    <button data-action="like" class="btn btn-primary mr-2">‚ù§ ').concat(t.likes,'</button>\n                    <button data-action="dislike" class="btn btn-primary mr-2">üëé</button>\n                    <button data-action="delete" class="btn btn-primary">–£–¥–∞–ª–∏—Ç—å –ø–æ—Å—Ç</button>\n                </div>\n            </div>\n       '));var o=n.querySelector("[data-action=like]");return n.addEventListener("click",(function(r){"like"===r.target.dataset.action?m("like",t.id,o):"dislike"===r.target.dataset.action?m("dislike",t.id,o):"delete"===r.target.dataset.action&&(fetch("".concat(e,"/posts/").concat(t.id),{method:"DELETE"}).then((function(t){if(!t.ok)throw new Error(t.statusText)})).catch((function(t){console.log(t)})),d.removeChild(n))})),n}function m(t,n,o){fetch("".concat(e,"/posts/").concat(t,"/").concat(n),{method:"POST"}).then((function(t){if(!t.ok)throw new Error(t.statusText);return t.text()})).then((function(t){o.innerHTML="‚ù§ ".concat(t)})).catch((function(t){console.log(t)}))}u.className="btn btn-primary d-block mx-auto mt-2",u.innerHTML="–ü–æ–∫–∞–∑–∞—Ç—å –µ—â–µ –ø–æ—Å—Ç—ã",u.addEventListener("click",f),a.appendChild(u),f(),setInterval((function(){fetch("".concat(e,"/posts/fresh-posts-check/").concat(o)).then((function(t){if(!t.ok)throw new Error(t.statusText);return t.text()})).then((function(t){"false"!==t&&(l.classList.remove("d-none"),l.classList.add("d-block"))})).catch((function(t){console.log(t)}))}),5e3)}]);